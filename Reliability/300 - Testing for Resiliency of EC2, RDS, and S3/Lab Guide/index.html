<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Level 300: Performing Resiliency Testing for EC2, RDS, and S3 - My Docs</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">My Docs</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Welcome to MkDocs</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cost <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../Cost/">AWS Well-Architected Cost Optimization Labs</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Cost Fundamentals</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">100 1 AWS Account Setup</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_1_AWS_Account_Setup/">Level 100: AWS Account Setup</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_1_AWS_Account_Setup/Checklist/">Level 100: AWS Account Setup: Best Practice Checklist</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_1_AWS_Account_Setup/Lab Guide/">Level 100: AWS Account Setup: Lab Guide</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">100 2 Cost and Usage Governance</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_2_Cost_and_Usage_Governance/">Level 100: Cost and Usage Governance</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_2_Cost_and_Usage_Governance/Checklist/">Level 100: Cost and Usage Governance</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_2_Cost_and_Usage_Governance/Lab Guide/">Level 100: Cost and Usage Governance</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">100 4 Cost and Usage Analysis</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_4_Cost_and_Usage_Analysis/">Level 100: Cost and Usage Analysis</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_4_Cost_and_Usage_Analysis/Checklist/">Level 100: Cost and Usage Analysis</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_4_Cost_and_Usage_Analysis/Lab Guide/">Level 100: Cost and Usage Analysis</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">100 5 Cost Visualization</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_5_Cost_Visualization/">Level 100: Billing Visualization</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_5_Cost_Visualization/Checklist/">Level 100: Cost Visualization</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/100_5_Cost_Visualization/Lab Guide/">Level 100: Cost Visualization</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">200 2 Cost and Usage Governance</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_2_Cost_and_Usage_Governance/">Level 200: Cost and Usage Governance</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_2_Cost_and_Usage_Governance/Checklist/">Level 200: Cost and Usage Governance</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_2_Cost_and_Usage_Governance/Lab Guide/">Level 200: Cost and Usage Governance</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">200 3 Pricing Models</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_3_Pricing_Models/">Level 200: Pricing Models</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_3_Pricing_Models/Checklist/">Level 200: Pricing Models Checklist</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_3_Pricing_Models/Lab Guide/">Level 200: Pricing Models</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">200 4 Cost and Usage Analysis</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_4_Cost_and_Usage_Analysis/">Level 200: Cost and Usage Analysis</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_4_Cost_and_Usage_Analysis/Checklist/">Level 200: Cost and Usage Analysis</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_4_Cost_and_Usage_Analysis/Lab Guide/">Level 200: Cost and Usage Analysis</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">200 5 Cost Visualization</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_5_Cost_Visualization/">Level 200: Cost Visualization</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_5_Cost_Visualization/Checklist/">Level 200: Cost Visualization</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_Fundamentals/200_5_Cost_Visualization/Lab Guide/">Level 200: Cost Visualization</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Cost and Usage Analysis</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_and_Usage_Analysis/">AWS Well-Architected Cost Optimization Labs</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">300 Automated CUR Updates and Ingestion</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Cost/Cost_and_Usage_Analysis/300_Automated_CUR_Updates_and_Ingestion/">Level 300: Automated CUR Updates and Ingestion</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_and_Usage_Analysis/300_Automated_CUR_Updates_and_Ingestion/Checklist/">Level 300: Automated CUR Updates and Ingestion</a>
</li>
            
<li >
    <a href="../../../Cost/Cost_and_Usage_Analysis/300_Automated_CUR_Updates_and_Ingestion/Lab Guide/">Level 300: Automated CUR Updates and Ingestion</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reliability <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../">AWS Well-Architected Reliability Labs</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">300   Testing for Resiliency of EC2, RDS, and S3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Level 300: Testing for Resiliency of EC2, RDS, and S3</a>
</li>
            
<li >
    <a href="../Builders Guide/">Builders Guide for 300 - Testing for Resiliency of EC2, RDS, and S3</a>
</li>
            
<li class="active">
    <a href="./">Level 300: Performing Resiliency Testing for EC2, RDS, and S3</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Security <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../Security/">AWS Well-Architected Security Labs</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">100   AWS Account & Root User</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/100 - AWS Account & Root User/">Level 100: AWS Account & Root User</a>
</li>
            
<li >
    <a href="../../../Security/100 - AWS Account & Root User/Checklist/">Level 100: AWS Account & Root User: Best Practice Checklist</a>
</li>
            
<li >
    <a href="../../../Security/100 - AWS Account & Root User/Lab Guide/">Level 100: AWS Account & Root User: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">100   Basic Identity & Access Management User, Group, Role</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/100 - Basic Identity & Access Management User, Group, Role/">Level 100: Basic Identity & Access Management User, Group, Role</a>
</li>
            
<li >
    <a href="../../../Security/100 - Basic Identity & Access Management User, Group, Role/Checklist/">Level 100: Basic Identity & Access Management User, Group, Role: Best Practice Checklist</a>
</li>
            
<li >
    <a href="../../../Security/100 - Basic Identity & Access Management User, Group, Role/Lab Guide/">Level 100: Basic Identity & Access Management User, Group, Role: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">100   CloudFront with S3 Bucket Origin</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/100 - CloudFront with S3 Bucket Origin/">Level 100: CloudFront with S3 Bucket Origin</a>
</li>
            
<li >
    <a href="../../../Security/100 - CloudFront with S3 Bucket Origin/Lab Guide/">Level 100: CloudFront with S3 Bucket Origin: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   Automated Deployment of Detective Controls</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - Automated Deployment of Detective Controls/">Level 200: Automated Deployment of Detective Controls</a>
</li>
            
<li >
    <a href="../../../Security/200 - Automated Deployment of Detective Controls/Lab Guide/">Level 200: Automated Deployment of Detective Controls: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   Automated Deployment of EC2 Web Application</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - Automated Deployment of EC2 Web Application/">Level 200: Automated Deployment of EC2 Web Application</a>
</li>
            
<li >
    <a href="../../../Security/200 - Automated Deployment of EC2 Web Application/Lab Guide/">Level 200: Automated Deployment of EC2 Web Application</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   Automated Deployment of IAM Groups and Roles</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - Automated Deployment of IAM Groups and Roles/">Level 200: Automated Deployment of IAM Groups and Roles</a>
</li>
            
<li >
    <a href="../../../Security/200 - Automated Deployment of IAM Groups and Roles/Lab Guide/">Level 200: Automated Deployment of IAM Groups and Roles: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   Automated Deployment of VPC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - Automated Deployment of VPC/">Level 200: Automated Deployment of VPC</a>
</li>
            
<li >
    <a href="../../../Security/200 - Automated Deployment of VPC/Lab Guide/">Level 200: Automated Deployment of VPC</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   Basic EC2 with WAF Protection</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - Basic EC2 with WAF Protection/">Level 200: EC2 Web Infrastructure Protection</a>
</li>
            
<li >
    <a href="../../../Security/200 - Basic EC2 with WAF Protection/Checklist/">Level 100: EC2 Web Infrastructure Protection: Best Practice Checklist</a>
</li>
            
<li >
    <a href="../../../Security/200 - Basic EC2 with WAF Protection/Lab Guide/">Level 200: EC2 Web Infrastructure Protection: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">200   CloudFront with WAF Protection</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/200 - CloudFront with WAF Protection/">Level 200: CloudFront with WAF Protection</a>
</li>
            
<li >
    <a href="../../../Security/200 - CloudFront with WAF Protection/Lab Guide/">Level 100: CloudFront with WAF Protection: Lab Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">300   IAM Permission Boundaries Delegating Role Creation</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/300 - IAM Permission Boundaries Delegating Role Creation/">Level 300: IAM Permission Boundaries Delegating Role Creation</a>
</li>
            
<li >
    <a href="../../../Security/300 - IAM Permission Boundaries Delegating Role Creation/Lab Guide/">Level 300: IAM Permission Boundaries Delegating Role Creation</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">300   IAM Tag Based Access Control for EC2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Security/300 - IAM Tag Based Access Control for EC2/">Level 300: IAM Tag Based Access Control for EC2</a>
</li>
            
<li >
    <a href="../../../Security/300 - IAM Tag Based Access Control for EC2/Lab Guide/">Level 300: IAM Tag Based Access Control for EC2</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../Builders Guide/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../../../Security/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#level-300-performing-resiliency-testing-for-ec2-rds-and-s3">Level 300: Performing Resiliency Testing for EC2, RDS, and S3</a></li>
            <li><a href="#authors">Authors</a></li>
        <li class="main "><a href="#table-of-contents">Table of Contents</a></li>
            <li><a href="#1-deploying-the-infrastructure">1. Deploying the infrastructure </a></li>
            <li><a href="#2-discussion-and-example-failure-scenarios">2. Discussion and Example Failure Scenarios </a></li>
            <li><a href="#3-failure-modes">3. Failure modes </a></li>
            <li><a href="#4-tear-down-this-lab">4. Tear down this lab </a></li>
            <li><a href="#references-useful-resources">References &amp; useful resources:</a></li>
            <li><a href="#license">License</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="level-300-performing-resiliency-testing-for-ec2-rds-and-s3">Level 300: Performing Resiliency Testing for EC2, RDS, and S3</h1>
<h2 id="authors">Authors</h2>
<ul>
<li>Rodney Lester, Reliability Lead, Well-Architected, AWS</li>
</ul>
<h1 id="table-of-contents">Table of Contents</h1>
<ol>
<li><a href="#deploy_infra">Deploying the infrastructure</a></li>
<li><a href="#failure_scenarios">Discussion and Example Failure Scenarios</a></li>
<li><a href="#failure_modes">Failure modes</a></li>
<li><a href="#tear_down">Tear Down</a></li>
</ol>
<h2 id="1-deploying-the-infrastructure">1. Deploying the infrastructure <a name="deploy_infra"></a></h2>
<p>AWS requires “Service-Linked” Roles for AWS Auto Scaling, Elastic Load Balancing, and Amazon RDS to create the services and metrics they manage. In the past, these Roles may have been created automatically for you, or we may need to create them. Here is how to find which roles you need to create.  </p>
<h3 id="11-checking-for-existing-service-linked-roles">1.1 Checking for Existing Service-Linked Roles</h3>
<ol>
<li>Sign in to the AWS Management Console as an IAM user with MFA enabled or in a federated Role, and open the IAM console at <a href="https://console.aws.amazon.com/iam/">https://console.aws.amazon.com/iam/</a>.</li>
<li>In the navigation pane, click <strong>Roles</strong>.<br />
<img alt="SelectIAMRoles" src="../Images/SelectIAMRoles.png" />  </li>
<li>In the filter box, type “Service” to find the service linked roles that exist in your account and look for “AutoScaling,” “ELB” or “ElasticLoadBalancing,” and “RDS.” In this screenshot, the service linked role for AutoScaling exists, but the roles for ELB and RDS do not. Note which roles will need to be created as you will use this information when performing the next step.<br />
<img alt="LookingForServiceLinkedRoles" src="../Images/LookingForServiceLinkedRoles.png" />  </li>
<li>In the AWS Services Search Box, type “CloudFormation” and click enter.  </li>
<li>You will need to download the CloudFormation template that will deploy the lambda functions and step functions state machine. Change the region to <strong>Ohio</strong> and navigate to the CloudFormation console.<br />
<img alt="SelectOhio" src="../Images/SelectOhio.png" />  </li>
<li>On the CloudFormation console, click “Create Stack:”.<br />
<img alt="Images/CreateStackButton" src="../Images/CreateStackButton.png" />  </li>
<li>There are two versions that can be deployed. You can deploy in one AWS region, which will allow you start testing sooner, or you can deploy into 2 AWS regions, which will enable you to test some additional aspects of S3, as well as as simulation a regional failure of your application<ol>
<li>For a single region deployment, select the option to “Specify an Amazon S3 template" and enter <strong>https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/lambda_functions_for_deploy.json</strong><br />
<img alt="LambdaCFNEntered-ohio" src="../Images/LambdaCFNEntered-ohio.png" /></li>
<li>For a two region deployment, select the option to “Specify an Amazon S3 template" and enter <strong>https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/lambda_functions_for_deploy_two_regions.json</strong><br />
<img alt="LambdaCFNEntered-tworegion" src="../Images/LambdaCFNEntered-tworegion.png" /></li>
</ol>
</li>
<li>Click the “Next” button. On this page you will enter the following information:<ol>
<li>For the single region deployment:</li>
</ol>
</li>
<li>Stack name: “DeployResiliencyWorkshop” &lt;-No spaces!</li>
<li>EnableAutoScalingServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be false since it already exists.</li>
<li>EnableELBServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be true because it does not exist.</li>
<li>EnableRDSServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be true because it does not exist.</li>
<li>LambdaFunctionsBucket: “aws-well-architected-labs-ohio” &lt;-Case sensitive!</li>
<li>RDSLambdaKey: “Reliability/RDSLambda.zip” &lt;-Case sensitive!</li>
<li>VPCLambdaKey: “Reliability/VPCLambda.zip” &lt;-Case sensitive!</li>
<li>WaitForStackLambdaKey: “Reliability/WaitForStack.zip” &lt;-Case sensitive!</li>
<li>WebAppLambdaKey: “Reliability/WebAppLambda.zip” &lt;-Case sensitive!
<img alt="CFNParameters-ohio" src="../Images/CFNParameters-ohio.png" /><ol>
<li>For the two region deployment:</li>
</ol>
</li>
<li>Stack name: “DeployResiliencyWorkshop” &lt;-No spaces!</li>
<li>DMSLambdaKey: “Reliability/DMSLambda.zip” &lt;-Case sensitive!</li>
<li>EnableAutoScalingServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be false since it already exists.</li>
<li>EnableELBServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be true because it does not exist.</li>
<li>EnableRDSServiceRole: “false” or “true,” depending on whether it exists. In the example, this will be true because it does not exist.</li>
<li>LambdaFunctionsBucket: “aws-well-architected-labs-ohio” &lt;-Case sensitive!</li>
<li>RDSLambdaKey: “Reliability/RDSLambda.zip” &lt;-Case sensitive!</li>
<li>RDSRRLambdaKey: "Reliability/RDSReadReplicaLambda.zip" &lt;-Case sensitive!</li>
<li>VPCLambdaKey: “Reliability/VPCLambda.zip” &lt;-Case sensitive!</li>
<li>WaitForStackLambdaKey: “Reliability/WaitForStack.zip” &lt;-Case sensitive!</li>
<li>WebAppLambdaKey: “Reliability/WebAppLambda.zip” &lt;-Case sensitive!
<img alt="CFNParameters-2Region" src="../Images/CFNParameters-2Region.png" />  </li>
<li>Click the “Next” button. On the “Options” page, click the “Next” button at the bottom of the page. On the “Review” page, scroll to the bottom and select the option “I acknowledge that AWS CloudFormation might create IAM resources.” Click the “Create” button. This will take you to the summary with the stack creation in progress.<br />
<img alt="StackCreationStarted" src="../Images/StackCreationStarted.png" />  </li>
<li>This will take approximately a minute to deploy. You now need to navigate to the Step Functions console. At the top of the window, click the downward facing icon to the right of the word “Services.” This will bring up the list of services. Type “Step Functions” in the search box and press the enter key.<br />
<img alt="EnteringStepFunctions" src="../Images/EnteringStepFunctions.png" />  </li>
<li>On the Step Functions dashboard, you will see “State Machines” and you will have a new one named “DeploymentMachine-<random characters>.” Click on that state machine. This will bring up an execution console. Click on the “Start execution” button.<br />
<img alt="DeploymentMachine" src="../Images/DeploymentMachine.png" />  </li>
<li>For input to the execution name, use “BuildResiliency.”<ol>
<li>One Region Deployment:<ol>
<li>For Input, use the following:
<strong>Note:</strong> If you want to test failure of S3, then you should use an image in S3 that you control, and it should have public read access only.</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre><code>{
  &quot;log_level&quot;: &quot;DEBUG&quot;,
  &quot;region_name&quot;: &quot;us-east-2&quot;,
  &quot;secondary_region_name&quot;: &quot;us-west-2&quot;,
  &quot;cfn_region&quot;: &quot;us-east-2&quot;,
  &quot;cfn_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
  &quot;folder&quot;: &quot;Reliability/&quot;,
  &quot;workshop&quot;: &quot;300-ResiliencyofEC2RDSandS3&quot;,
  &quot;boot_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
  &quot;boot_prefix&quot;: &quot;Reliability/&quot;,
  &quot;boot_object&quot;: &quot;bootstrap300Resiliency.sh&quot;,
  &quot;websiteimage&quot; : &quot;https://s3.us-east-2.amazonaws.com/arc327-well-architected-for-reliability/Cirque_of_the_Towers.jpg&quot;
}
</code></pre>

<pre><code>    1. Then click the “Start Execution” button.
</code></pre>
<p><img alt="ExecutionInput-ohio" src="../Images/ExecutionInput-ohio.png" /><br />
    1. Two Region Deployment:
        1. For Input, use the following:
        <strong>Note:</strong> If you want to test failure of S3, then you should use an image in S3 that you control, and it should have public read access only.</p>
<pre><code>{
  &quot;region1&quot;: {
    &quot;log_level&quot;: &quot;DEBUG&quot;,
    &quot;region_name&quot;: &quot;us-east-2&quot;,
    &quot;secondary_region_name&quot;: &quot;us-west-2&quot;,
    &quot;cfn_region&quot;: &quot;us-east-2&quot;,
    &quot;cfn_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
    &quot;folder&quot;: &quot;Reliability/&quot;,
    &quot;workshop&quot;: &quot;300-ResiliencyofEC2RDSandS3&quot;,
    &quot;boot_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
    &quot;boot_prefix&quot;: &quot;Reliability/&quot;,
    &quot;boot_object&quot;: &quot;bootstrap300Resiliency.sh&quot;,
    &quot;websiteimage&quot; : &quot;https://s3.us-east-2.amazonaws.com/arc327-well-architected-for-reliability/Cirque_of_the_Towers.jpg&quot;
  },
  &quot;region2&quot;: {
    &quot;log_level&quot;: &quot;DEBUG&quot;,
    &quot;region_name&quot;: &quot;us-west-2&quot;,
    &quot;secondary_region_name&quot;: &quot;us-east-2&quot;,
    &quot;cfn_region&quot;: &quot;us-east-2&quot;,
    &quot;cfn_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
    &quot;folder&quot;: &quot;Reliability/&quot;,
    &quot;workshop&quot;: &quot;300-ResiliencyofEC2RDSandS3&quot;,
    &quot;boot_bucket&quot;: &quot;aws-well-architected-labs-ohio&quot;,
    &quot;boot_prefix&quot;: &quot;Reliability/&quot;,
    &quot;boot_object&quot;: &quot;bootstrap300Resiliency.sh&quot;,
    &quot;websiteimage&quot; : &quot;https://s3.us-east-2.amazonaws.com/arc327-well-architected-for-reliability/Cirque_of_the_Towers.jpg&quot;
  }
}
</code></pre>

<pre><code>    1. Then click the “Start Execution” button.
</code></pre>
<p><img alt="ExecutionInput-2Regions" src="../Images/ExecutionInput-2Regions.png" /><br />
14. This will take approximately 20-25 minutes for one region to deploy and approximately 45-50 minutes for two regions to deploy. You will have enough to start executing the lab exercises for the two region in 25-30 minutes. You can watch the state machine as it executes by clicking the icon to expand the visual workflow to the full screen.<br />
    1. One Region:
<img alt="StateMachineExecuting" src="../Images/StateMachineExecuting.png" />
    1. Two Regions:
<img alt="StateMachineExecuting-2Regions" src="../Images/StateMachineExecuting-2Regions.png" /><br />
15. You can also watch the CloudFormation stacks as they are created. If you are in a workshop, the instructor will have some background information to share while this is created. You can resume testing when the web tier has been deployed in the Ohio region. This will look something like this on the visual workflow.<br />
<img alt="StepFunctionWebAppDeployed" src="../Images/StepFunctionWebAppDeployed.png" /><br />
16. You can start testing:
    1. When the WaitForWebApp step for a single region deployment is completed, return to the CloudFormation console and select the “WebServersforResiliencyTesting” stack and then the Outputs tab at bottom.<br />
<img alt="CFNComplete" src="../Images/CFNComplete.png" />
    1. When the WaitForWebApp1 step for a two region deployment is completed, return to the CloudFormation console and select the “WebServersforResiliencyTesting” stack and then the Outputs tab at bottom.
<img alt="CFNReadyForTesting" src="../Images/CFNReadyForTesting.png" />
17. Click the value and it will bring up the website:<br />
<img alt="DemoWebsite" src="../Images/DemoWebsite.png" /></p>
<h2 id="2-discussion-and-example-failure-scenarios">2. Discussion and Example Failure Scenarios <a name="failure_scenarios"></a></h2>
<p>There is a choice of environments to execute the failure simulations in. Linux command line (bash), Python, Java, and C#.  The instructions for each environment are in separate sections.</p>
<h3 id="21-setting-up-the-bash-environment">2.1 Setting Up the bash Environment</h3>
<p>All the command line scripts use a utility called jq. You can download it from the site and leave it in your local directory, as long as that is in your execution path:<br />
<a href="https://stedolan.github.io/jq/">https://stedolan.github.io/jq/</a><br />
1. You can find out what your execution path is with the following command.</p>
<pre><code>$ echo $PATH
/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/aws/bin:/home/ec2-user/.local/bin:/home/ec2-user/bin
</code></pre>

<ol>
<li>If you have sudo rights, then copy the executable to /usr/local/bin/jq and make it executable.  </li>
</ol>
<pre><code>$ sudo cp jq-linux64 /usr/local/bin/jq
$ sudo chmod 755 /usr/local/bin/jq
</code></pre>

<ol>
<li>If you do not have sudo rights, then copy it into your home directory under a /bin directory. In Amazon linux, this is typically /home/ec2-user/bin.  </li>
</ol>
<pre><code>$ cp jq-linux64 ~/bin/jq
$ chmod 755 ~/bin/jq
</code></pre>

<ol>
<li>Install the AWS Command Line Interface (CLI) if you do not have it installed (it is installed by default on Amazon Linux).<br />
<a href="https://aws.amazon.com/cli/">https://aws.amazon.com/cli/</a></li>
<li>Run the aws configure command to configure your command line options. This will prompt you for the AWS Access Key ID, AWS Secret Access Key, and default region name. Enter the key information if you do not already have them installed, and set the default region to “us-east-2” and leave the default output format as “None.”.  </li>
</ol>
<pre><code>$ aws configure
AWS Access Key ID [*************xxxx]: &lt;Your AWS Access Key ID&gt;
AWS Secret Access Key [**************xxxx]: &lt;Your AWS Secret Access Key&gt;
Default region name: [us-east-2]: us-east-2
Default output format [None]:&lt;return&gt;
</code></pre>

<ol>
<li>Download the zip file of the resiliency bash scripts at the following URL:<br />
<a href="https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/bashresiliency.zip">https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/bashresiliency.zip</a></li>
<li>Unzip the folder in a location convenient for you to execute the scripts.  </li>
<li>They are also available in the <a href="Code/FailureSimulations/Bash/">Code/FailureSimulations/bash/</a> directory.</li>
</ol>
<h3 id="22-setting-up-a-programming-language-based-environment">2.2 Setting up a Programming Language Based Environment</h3>
<p>You will need the same files that the AWS command line uses for credentials. You can either install the command line and use the ‘aws configure’ command as outlined in the bash set up, or you can manually create the configuration files. To create the files manually, create a .aws folder/directory in your home directory.<br />
1. Bash and powershell use the same command.  </p>
<pre><code>mkdir ~/.aws
</code></pre>

<ol>
<li>Change directory to that directory to create the configuration file.<br />
Bash</li>
</ol>
<pre><code>cd ~/.aws
</code></pre>

<p>Powershell</p>
<pre><code>cd ~\.aws
</code></pre>

<ol>
<li>Use a text editor (vim, emacs, notepad, wordpad) to create a text file (no extension named “credentials.” In this file you should have the following text.  </li>
</ol>
<pre><code>[default]
aws_access_key_id = &lt;Your access key&gt;
aws_secret_access_key = &lt;Your secret key&gt;
region = us-east-2
</code></pre>

<h3 id="23-setting-up-the-python-environment">2.3 Setting Up the Python Environment</h3>
<ol>
<li>The scripts are written in python with boto3. On Amazon Linux, this is already installed. Use your local operating system instructions to install boto3: <a href="https://github.com/boto/boto3">https://github.com/boto/boto3</a></li>
<li>Download the zip file of the resiliency scripts at the following URL.<a href="https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/pythonresiliency.zip">https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/pythonresiliency.zip</a>   </li>
<li>Unzip the folder in a location convenient for you to execute the scripts.  </li>
</ol>
<h3 id="24-setting-up-the-java-environment">2.4 Setting Up the Java Environment</h3>
<ol>
<li>The command line utility in Java requires Java 8 SE. In Amazon Linux, you need to install Java 8 and remove Java 7.  </li>
</ol>
<pre><code>$ sudo yum install java-1.8.0-openjdk
$ sudo yum remove java-1.7.0-openjdk
</code></pre>

<ol>
<li>Download the zipfile of the executables at the following URL <a href="https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/javaresiliency.zip">https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/javaresiliency.zip</a>.   </li>
<li>Unzip the folder in a location convenient for you to execute the command line programs.  </li>
</ol>
<h3 id="25-setting-up-the-c-environment">2.5 Setting Up the C# Environment</h3>
<ol>
<li>Download the zipfile of the executables at the following URL. <a href="https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/csharpresiliency.zip">https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/csharpresiliency.zip</a>  </li>
<li>Unzip the folder in a location convenient for you to execute the command line programs.  </li>
</ol>
<h3 id="26-setting-up-the-powershell-environment">2.6 Setting up the Powershell Environment</h3>
<ol>
<li>If you do not have the AWS Tools for Powershell, download and install them following the instructions here. <a href="https://aws.amazon.com/powershell/">https://aws.amazon.com/powershell/</a>  </li>
<li>Follow the “Getting Started” instructions for configuring credentials. <a href="https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-started.html">https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-started.html</a>  </li>
<li>Download the zipfile of the scripts at the following URL. <a href="https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/powershellresiliency.zip">https://s3.us-east-2.amazonaws.com/aws-well-architected-labs-ohio/Reliability/powershellresiliency.zip</a>  </li>
<li>Unzip the folder in a location convenient for you to execute the scripts.</li>
</ol>
<h2 id="3-failure-modes">3. Failure modes <a name="failure_modes"></a></h2>
<h3 id="31-ec2-failure-mode">3.1 EC2 Failure Mode</h3>
<ol>
<li>The first failure mode will be to fail a web server. To prepare for this, you should have two consoles open: VPC and EC2. From the AWS Console, click the downward facing icon to the right of the word “Services.” This will bring up the list of services. Type “EC2” in the search box and press the enter key.<br />
<img alt="EnteringEC2" src="../Images/EnteringEC2.png" />  </li>
<li>You also need the VPC Console. From the AWS Console, click the downward facing icon to the right of the word “Services.” This will bring up the list of services. Type “VPC” in the search box, then right click on the “VPC Isolate Cloud Resources” text and open the link in a new tab or window. You can then click the upward facing icon to the right of the word “Services” to make the menu of services disappear.<br />
<img alt="EnteringVPC" src="../Images/EnteringVPC.png" />  </li>
<li>On the EC2 Console, click “Instances” on the left side to bring up the list of instances.<br />
<img alt="SelectingInstances" src="../Images/SelectingInstances.png" />  </li>
<li>Use this as the command line argument to the scripts/programs below.  </li>
<li>Instance Failure in bash
Execute the failure mode script for failing an instance:</li>
</ol>
<pre><code>$./fail_instance.sh &lt;vpc-id&gt;
</code></pre>

<ul>
<li>Instance Failure in Python: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ python fail_instance.py &lt;vpc-id&gt;
</code></pre>

<ul>
<li>Instance Failure in Java: Execute the failure mode program for failing an instance:</li>
</ul>
<pre><code>$ java -jar app-resiliency-1.0.jar EC2 &lt;vpc-id&gt;
</code></pre>

<ul>
<li>Instance Failure in C#: Execute the failure mode program for failing an instance:</li>
</ul>
<pre><code>$ .\AppResiliency EC2 &lt;vpc-id&gt;
</code></pre>

<ul>
<li>Instance Failure in Powershell: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ .\fail_instance.ps1 &lt;vpc-id&gt;
</code></pre>

<ol>
<li>Watch the behavior of the Load Balancer Target Group and its Targets in the EC2 Console. See it get marked unhealthy and replaced by the Auto Scaling Group.<br />
<img alt="TargetGroups" src="../Images/TargetGroups.png" />  </li>
</ol>
<h3 id="32-rds-failure-mode">3.2 RDS Failure Mode</h3>
<ol>
<li>From the AWS EC2 Console (you will still need the VPC ID from the VPC Console), click the downward facing icon to the right of the word “Services.” This will bring up the list of services. Type “RDS” in the search box and press the enter key.<br />
<img alt="SelectingRDS" src="../Images/SelectingRDS.png" />  </li>
<li>Use this as the command line argument to the scripts/programs below.  </li>
<li>RDS Instance Failure in bash: Execute the failure mode script for failing over an RDS instance:</li>
</ol>
<pre><code>$./failover_rds.sh &lt;vpc-id&gt;
</code></pre>

<ul>
<li>RDS Instance Failure in Python: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ python fail_rds.py &lt;vpc-id&gt;
</code></pre>

<ul>
<li>RDS Instance Failure in Java: Execute the failure mode program for failing an instance:</li>
</ul>
<pre><code>$ java -jar app-resiliency-1.0.jar RDS &lt;vpc-id&gt;
</code></pre>

<ul>
<li>RDS Instance Failure in C#: Execute the failure mode program for failing an instance:</li>
</ul>
<pre><code>$ .\AppResiliency RDS &lt;vpc-id&gt;
</code></pre>

<ul>
<li>RDS Instance Failure in Powershell: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ .\failover_rds.ps1 &lt;vpc-id&gt;
</code></pre>

<p>Watch the behavior of the website. What happens? 
Watch the EC2 Load Balancer Target Group and its Targets’ health. Do the instances recover?</p>
<h3 id="33-az-failure">3.3 AZ Failure</h3>
<ol>
<li>Availability zone failure.</li>
<li>AZ Failure in bash: Execute the following script for failing over an Availability Zone:</li>
</ol>
<pre><code>$./fail_az.sh &lt;az&gt; &lt;vpc-id&gt;
</code></pre>

<ul>
<li>AZ Failure in Python: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ python fail_az.py &lt;vpc-id&gt; &lt;az&gt;
</code></pre>

<ul>
<li>AZ Failure in Java: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ java -jar app-resiliency-1.0.jar AZ &lt;vpc-id&gt; &lt;az&gt;
</code></pre>

<ul>
<li>AZ Failure in C#: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ .\AppResiliency AZ &lt;vpc-id&gt; &lt;az&gt;
</code></pre>

<ul>
<li>AZ Failure in Powershell: Execute the failure mode script for failing an instance:</li>
</ul>
<pre><code>$ .\fail_az.ps1 &lt;az&gt; &lt;vpc-id&gt;
</code></pre>

<p>What is the expected effect? How long does it take to take effect? Look at the Target Group Targets to see them go unhealthy, also watch the EC2 instances to see the one in the target AZ shutdown and be restarted in one of the other AZs.
What would you do if the ASG was only in one AZ? You could call the AutoScaling SuspendProcesses and then get the list of instances in the group and call EC2 StopInstances or TerminateInstances
How would you undo all these changes?</p>
<h3 id="34-failure-of-s3">3.4 Failure of S3</h3>
<ol>
<li>Failure of S3 means that the image will not be available.</li>
<li>Failure in bash: The bash commands available do not allow for modification of the access permissions, so you'll have to do the work in the console.</li>
<li>Navigate to the S3 console: [https://s3.console.aws.amazon.com/s3/home](https://s3.console.aws.amazon.com/s3/home]</li>
<li>Select the bucket where the image is located. In my example, this is the bucket "arc327-well-architected-for-reliability"</li>
<li>Select the object, then select the "Permissions" tab:</li>
<li>Select the "Public Access" radio button, and deselect the "Read object" box:</li>
</ol>
<p>What is the expected effect? How long does it take to take effect? How would you diagnose if this is a larger problem than permissions?</p>
<h3 id="35-looking-for-more-to-do">3.5 Looking for more to do?</h3>
<p>You can use drift detection in the CloudFormation console to see what had chanegd, or work on code to heal their failure modes.<br />
1. Remove the network ACLs they added<br />
2. Reconfigure the AutoScaling Groups to use the AZ  </p>
<hr />
<h2 id="4-tear-down-this-lab">4. Tear down this lab <a name="tear_down"></a></h2>
<p>In order to take down the lab environment, you will need to remove the association of the Network ACL that was added to fail the AZ, and delete the Network ACL in the console. You can then delete the CloudFormation stacks (in both AWS regions) that were created. Here are the instructions for how to do that.
1. Navigate to the VPC Console. From the AWS Console, click the downward facing icon to the right of the word “Services.” This will bring up the list of services. Type “VPC” in the search box, then press enter.<br />
<img alt="EnteringVPC" src="../Images/EnteringVPC.png" />  </p>
<ol>
<li>On the VPC Console, click on Network ACLs and select the Network ACL that is associated with 4 subnets in the ResiliencyVPC. Click the “Subnet Associations” tab and then Click the “Edit button.<br />
<img alt="SelectingNACL" src="../Images/SelectingNACL.png" />  </li>
<li>You need to associate the 2 subnets that were changed to the blocking Network ACL back to this default Network ACL. Select the 2 subnets available, then click the “Save” button.<br />
<img alt="AssociatingNACL" src="../Images/AssociatingNACL.png" />  </li>
<li>Now select the Network ACL that is associated with 0 Subnets and click the “Delete” button to delete this Network ACL.<br />
<img alt="DeletingNACL" src="../Images/DeletingNACL.png" />  </li>
<li>If you have deployed into 2 regions, you have to delete the Database Migration Service and RDS Read Replicas before you can delete the RDS instances.  You can delete the DMS (in Oregon) and read replica at the same time, but the console only allows you to select one of the stacks at a time. Select the “DMSforResiliencyTesting” stack, then click the “Actions” button, and click “DeleteStack:”.<br />
<img alt="DeletingDMS" src="../Images/DeletingDMS.png" />  </li>
<li>You can then select the “ MySQLReadReplicaResiliencyTesting” stack, click the “Actions” button, and click “Delete Stack” to simultaneously delete the RDS Read Replica instance.<br />
<img alt="DeletingRDSReadReplica" src="../Images/DeletingRDSReadReplica.png" />  </li>
<li>If you have deployed in 2 regions, Navigate to the other region (Ohio, if you started in Oregon, and Oregon, if you started in Ohio), and perform the same deletion steps above for the RDS read replica and DMS, if in Oregon. Wait for the read replicas to be deleted. You can delete the web servers and RDS at the same time, but the console only allows you to select one of the stacks at a time. Select the “WebServersforResiliencyTesting” stack, then click the “Actions” button, and click “Delete Stack:”.<br />
<img alt="DeletingWebServers" src="../Images/DeletingWebServers.png" />  </li>
<li>You can then select the “ MySQLforResiliencyTesting” stack, click the “Actions” button, and click “Delete Stack” to simultaneously delete the RDS instance.<br />
<img alt="DeleteRDS" src="../Images/DeleteRDS.png" />  </li>
<li>You can then select the “DeployResiliencyWorkshop” stack, click the “Actions” button, and click “Delete Stack” to simultaneously delete the deployment machine and Lambda functions.<br />
<img alt="DeletingLambdaandStepFunctions" src="../Images/DeletingLambdaandStepFunctions.png" />  </li>
<li>Once all these stacks have deleted, you can then select the “ResiliencyVPC” stack, click the “Actions” button, and click “Delete Stack” to delete the VPC and remove the last piece of infrastructure.<br />
<img alt="DeletingVPC" src="../Images/DeletingVPC.png" />  </li>
<li>When it is delete complete, you are done.  </li>
</ol>
<hr />
<h2 id="references-useful-resources">References &amp; useful resources:</h2>
<hr />
<h2 id="license">License</h2>
<h3 id="documentation-license">Documentation License</h3>
<p>Licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Share Alike 4.0</a> license.</p>
<h3 id="code-license">Code License</h3>
<p>Licensed under the Apache 2.0 and MITnoAttr License. </p>
<p>Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at</p>
<pre><code>http://aws.amazon.com/apache2.0/
</code></pre>
<p>or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
